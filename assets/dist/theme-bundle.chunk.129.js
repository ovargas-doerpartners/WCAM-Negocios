/*! For license information please see theme-bundle.chunk.129.js.LICENSE.txt */
(self.webpackChunkpapathemes_supermarket=self.webpackChunkpapathemes_supermarket||[]).push([[129],{7350:(t,e,n)=>{var i=n(38221),s=n(23805);t.exports=function(t,e,n){var o=!0,a=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return s(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),i(t,e,{leading:o,maxWait:e,trailing:a})}},63129:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>N});var i=n(98368),s=n(7350),o=n.n(s),a=n(4621),r=n(50935),c=n.n(r),d=n(46818),l=n(86513),u=n(33270);function h(){var t,e,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",s=n.toStringTag||"@@toStringTag";function o(n,i,s,o){var c=i&&i.prototype instanceof r?i:r,d=Object.create(c.prototype);return p(d,"_invoke",function(n,i,s){var o,r,c,d=0,l=s||[],u=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return o=e,r=0,c=t,h.n=n,a}};function p(n,i){for(r=n,c=i,e=0;!u&&d&&!s&&e<l.length;e++){var s,o=l[e],p=h.p,f=o[2];n>3?(s=f===i)&&(c=o[(r=o[4])?5:(r=3,3)],o[4]=o[5]=t):o[0]<=p&&((s=n<2&&p<o[1])?(r=0,h.v=i,h.n=o[1]):p<f&&(s=n<3||o[0]>i||i>f)&&(o[4]=n,o[5]=i,h.n=f,r=0))}if(s||n>1)return a;throw u=!0,i}return function(s,l,f){if(d>1)throw TypeError("Generator is already running");for(u&&1===l&&p(l,f),r=l,c=f;(e=r<2?t:c)||!u;){o||(r?r<3?(r>1&&(h.n=-1),p(r,c)):h.n=c:h.v=c);try{if(d=2,o){if(r||(s="next"),e=o[s]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,r<2&&(r=0)}else 1===r&&(e=o.return)&&e.call(o),r<2&&(c=TypeError("The iterator does not provide a '"+s+"' method"),r=1);o=t}else if((e=(u=h.n<0)?c:n.call(i,h))!==a)break}catch(e){o=t,r=1,c=e}finally{d=1}}return{value:e,done:u}}}(n,s,o),!0),d}var a={};function r(){}function c(){}function d(){}e=Object.getPrototypeOf;var l=[][i]?e(e([][i]())):(p(e={},i,function(){return this}),e),u=d.prototype=r.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,p(t,s,"GeneratorFunction")),t.prototype=Object.create(u),t}return c.prototype=d,p(u,"constructor",d),p(d,"constructor",c),c.displayName="GeneratorFunction",p(d,s,"GeneratorFunction"),p(u),p(u,s,"Generator"),p(u,i,function(){return this}),p(u,"toString",function(){return"[object Generator]"}),(h=function(){return{w:o,m:f}})()}function p(t,e,n,i){var s=Object.defineProperty;try{s({},"",{})}catch(t){s=0}p=function(t,e,n,i){function o(e,n){p(t,e,function(t){return this._invoke(e,n,t)})}e?s?s(t,e,{value:n,enumerable:!i,configurable:!i,writable:!i}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},p(t,e,n,i)}function f(t,e,n,i,s,o,a){try{var r=t[o](a),c=r.value}catch(t){return void n(t)}r.done?e(c):Promise.resolve(c).then(i,s)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(i,s){var o=t.apply(e,n);function a(t){f(o,i,s,a,r,"next",t)}function r(t){f(o,i,s,a,r,"throw",t)}a(void 0)})}}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}var y=0,b=function(t){function e(){return t.apply(this,arguments)||this}var n,i;return i=t,(n=e).prototype=Object.create(i.prototype),n.prototype.constructor=n,v(n,i),e.prototype.load=function(){var t=g(h().m(function t(e,n,i,s,o){var a,r=this;return h().w(function(t){for(;;)switch(t.n){case 0:if(void 0===n&&(n=""),void 0===i&&(i=10),void 0===s&&(s="DEFAULT"),void 0===o&&(o=!0),a=this.currencyCode+"_"+e+"_"+n+"_"+i+"_"+s+"_"+o,this.cachedProducts[a]){t.n=2;break}return t.n=1,new Promise(function(t){u.ajax({url:"/graphql",method:"POST",data:JSON.stringify({query:"\n                            query categoryProducts(\n                                $entityId: Int!,\n                                $after: String,\n                                $first: Int,\n                                $hideOutOfStock: Boolean,\n                                $sortBy: CategoryProductSort\n                                $currencyCode: currencyCode!\n                            ) {\n                                site {\n                                    category(entityId: $entityId) {\n                                        name\n                                        path\n                                        products(after: $after, first: $first, hideOutOfStock: $hideOutOfStock, sortBy: $sortBy) {\n                                            edges {\n                                                node {\n                                                    entityId\n                                                    name\n                                                    sku\n                                                    path\n                                                    addToCartUrl\n                                                    minPurchaseQuantity\n                                                    maxPurchaseQuantity\n                                                    pricesWithTax: prices(includeTax: true, currencyCode: $currencyCode) {\n                                                        price {\n                                                            ...MoneyFields\n                                                        }\n                                                        basePrice {\n                                                            ...MoneyFields\n                                                        }\n                                                        salePrice {\n                                                            ...MoneyFields\n                                                        }\n                                                        retailPrice {\n                                                            ...MoneyFields\n                                                        }\n                                                        priceRange {\n                                                            min {\n                                                                ...MoneyFields\n                                                            }\n                                                            max {\n                                                                ...MoneyFields\n                                                            }\n                                                        }\n                                                    }\n                                                    pricesWithoutTax: prices(includeTax: false, currencyCode: $currencyCode) {\n                                                        price {\n                                                            ...MoneyFields\n                                                        }\n                                                        basePrice {\n                                                            ...MoneyFields\n                                                        }\n                                                        salePrice {\n                                                            ...MoneyFields\n                                                        }\n                                                        retailPrice {\n                                                            ...MoneyFields\n                                                        }\n                                                        priceRange {\n                                                            min {\n                                                                ...MoneyFields\n                                                            }\n                                                            max {\n                                                                ...MoneyFields\n                                                            }\n                                                        }\n                                                    }\n                                                    defaultImage {\n                                                        ...ImageFields\n                                                    }\n                                                    images {\n                                                        edges {\n                                                        node {\n                                                            ...ImageFields\n                                                            isDefault\n                                                        }\n                                                        }\n                                                    }\n                                                    brand {\n                                                        name\n                                                        path\n                                                    }\n                                                    reviewSummary {\n                                                        averageRating\n                                                    }\n                                                    productOptions(first: 1) {\n                                                        edges {\n                                                            node {\n                                                                entityId\n                                                            }\n                                                        }\n                                                    }\n                                                    availabilityV2 {\n                                                        status\n                                                    }\n                                                    inventory {\n                                                        isInStock\n                                                    }\n                                                    customFields {\n                                                        edges {\n                                                            node {\n                                                                name\n                                                                value\n                                                            }\n                                                        }\n                                                    }\n                                                }\n                                            }\n                                            pageInfo {\n                                                endCursor\n                                                hasNextPage\n                                            }\n                                        }\n                                    }\n                                    categoryTree(rootEntityId: $entityId) {\n                                        hasChildren\n                                        children {\n                                            entityId\n                                            name\n                                            path\n                                        }\n                                    }\n                                    settings {\n                                        tax {\n                                            plp\n                                        }\n                                        inventory {\n                                            defaultOutOfStockMessage\n                                        }\n                                        storefront {\n                                            catalog {\n                                                productComparisonsEnabled\n                                            }\n                                        }\n                                    }\n                                    currency(currencyCode: $currencyCode) {\n                                        display {\n                                            symbol\n                                            symbolPlacement\n                                            decimalToken\n                                            thousandsToken\n                                            decimalPlaces\n                                        }\n                                    }\n                                }\n                            }\n                            fragment MoneyFields on Money {\n                                value\n                                currencyCode\n                            }\n                            fragment ImageFields on Image {\n                                url80wide: url(width: 80)\n                                url160wide: url(width: 160)\n                                url320wide: url(width: 320)\n                                url640wide: url(width: 640)\n                            }\n                        ",variables:{entityId:e,after:n,first:i,hideOutOfStock:o,sortBy:s,currencyCode:r.currencyCode}}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+r.graphQLToken},xhrFields:{withCredentials:!0},success:function(e){var n,i,s=Object.assign({},e.data.site.category,{children:null==(n=e.data.site.categoryTree[0])?void 0:n.children,hasChildren:null==(i=e.data.site.categoryTree[0])?void 0:i.hasChildren,products:r.mapGraphQLProducts(e.data.site.category.products,e.data.site.settings,e.data.site.currency),productsInfo:{endCursor:e.data.site.category.products.pageInfo.endCursor,hasNextPage:e.data.site.category.products.pageInfo.hasNextPage}});t(s)},error:function(){t("")}})});case 1:this.cachedProducts[a]=t.v;case 2:return t.a(2,this.cachedProducts[a])}},t,this)}));return function(e,n,i,s,o){return t.apply(this,arguments)}}(),e}(l.Tl),m=function(){function t(t){var e=t.id,n=t.index,i=void 0===n?0:n,s=t.sort,o=void 0===s?"":s,a=t.limit,r=void 0===a?"":a,c=t.$parent,d=t.context,h=t.sectionTemplate,p=void 0===h?'\n            <div class="emthemesModez-section emthemesModez-section--productsByCategorySortingTabs">\n                <div class="emthemesModez-section-inner">\n                    <div class="emthemesModez-productsByCategoryTabs emthemesModez-productsByCategoryTabs--sorting emthemesModez-productsByCategoryTabs--supermarket1">\n                        <ul class="tabs" data-tab role="tablist">\n                            <li class="li-heading" role="presentation"><h2 class="page-heading" role="tab"><a href="{{url}}">{{name}}</a></h2></li>\n\n                            {{#showBestselling}}\n                                <li class="tab{{#isBestsellingActive}} is-active{{/isBestsellingActive}}" role="presentation"><a class="tab-title" href="#tab-productsByCategoryTabs-bestselling-{{id}}" role="tab" tabindex="0" aria-selected="{{#isBestsellingActive}}true{{/isBestsellingActive}}{{^isBestsellingActive}}false{{/isBestsellingActive}}" aria-controls="tab-productsByCategoryTabs-bestselling-{{id}}">{{txtBestsellingTab}}</a></li>\n                            {{/showBestselling}}\n\n                            {{#showFeatured}}\n                                <li class="tab{{#isFeaturedActive}} is-active{{/isFeaturedActive}}" role="presentation"><a class="tab-title" href="#tab-productsByCategoryTabs-featured-{{id}}" role="tab" tabindex="0" aria-selected="{{#isFeaturedActive}}true{{/isFeaturedActive}}{{^isFeaturedActive}}false{{/isFeaturedActive}}" aria-controls="tab-productsByCategoryTabs-featured-{{id}}">{{txtFeaturedTab}}</a></li>\n                            {{/showFeatured}}\n\n                            {{#showNew}}\n                                <li class="tab{{#isNewActive}} is-active{{/isNewActive}}" role="presentation"><a class="tab-title" href="#tab-productsByCategoryTabs-newest-{{id}}" role="tab" tabindex="0" aria-selected="{{#isNewActive}}true{{/isNewActive}}{{^isNewActive}}false{{/isNewActive}}" aria-controls="tab-productsByCategoryTabs-newest-{{id}}">{{txtNewTab}}</a></li>\n                            {{/showNew}}\n\n                            {{#showReviews}}\n                                <li class="tab{{#isReviewsActive}} is-active{{/isReviewsActive}}" role="presentation"><a class="tab-title" href="#tab-productsByCategoryTabs-avgcustomerreview-{{id}}" role="tab" tabindex="0" aria-selected="{{#isReviewsActive}}true{{/isReviewsActive}}{{^isReviewsActive}}false{{/isReviewsActive}}" aria-controls="tab-productsByCategoryTabs-avgcustomerreview-{{id}}">{{txtReviewsTab}}</a></li>\n                            {{/showReviews}}\n                        </ul>\n                        {{#showBannerOrSubcategories}}\n                            <div class="emthemesModez-productsByCategoryTabs-details{{#showBanner}} emthemesModez-productsByCategoryTabs-details--hasImage{{/showBanner}}">\n                                {{#showBanner}}\n                                    <div class="emthemesModez-productsByCategoryTabs-details-image" data-banner>\n                                        <a href="{{url}}"><img alt="{{name}}" /></a>\n                                    </div>\n                                {{/showBanner}}\n                                {{#subcategories.length}}\n                                        <div class="emthemesModez-productsByCategoryTabs-details-sub">\n                                            <h3 class="emthemesModez-productsByCategoryTabs-details-sub-heading">{{txtSubHeading}}</h3>\n                                            <ul class="emthemesModez-productsByCategoryTabs-details-sub-list">\n                                            {{#subcategories}}\n                                                <li class="emthemesModez-productsByCategoryTabs-details-sub-item"><a href="{{url}}">{{name}}</a></li>\n                                            {{/subcategories}}\n                                            </ul>\n                                        </div>\n                                {{/subcategories.length}}\n                            </div>\n                        {{/showBannerOrSubcategories}}\n                        <div class="tabs-contents">\n                            {{#showBestselling}}\n                                <section role="tabpanel" aria-hidden="{{#isBestsellingActive}}false{{/isBestsellingActive}}{{^isBestsellingActive}}true{{/isBestsellingActive}}" class="tab-content {{#isBestsellingActive}}is-active{{/isBestsellingActive}}" id="tab-productsByCategoryTabs-bestselling-{{id}}" data-sort="bestselling">\n                                    {{#isBestsellingActive}}\n                                        {{&productsHtml}}\n                                    {{/isBestsellingActive}}\n                                    {{^isBestsellingActive}}\n                                        {{&productsLoadingHtml}}\n                                    {{/isBestsellingActive}}\n                                </section>\n                            {{/showBestselling}}\n\n                            {{#showFeatured}}\n                                <section role="tabpanel" aria-hidden="{{#isFeaturedActive}}false{{/isFeaturedActive}}{{^isFeaturedActive}}true{{/isFeaturedActive}}" class="tab-content {{#isFeaturedActive}}is-active{{/isFeaturedActive}}" id="tab-productsByCategoryTabs-featured-{{id}}" data-sort="featured">\n                                    {{#isFeaturedActive}}\n                                        {{&productsHtml}}\n                                    {{/isFeaturedActive}}\n                                    {{^isFeaturedActive}}\n                                        {{&productsLoadingHtml}}\n                                    {{/isFeaturedActive}}\n                                </section>\n                            {{/showFeatured}}\n\n                            {{#showNew}}\n                                <section role="tabpanel" aria-hidden="{{#isNewActive}}false{{/isNewActive}}{{^isNewActive}}true{{/isNewActive}}" class="tab-content {{#isNewActive}}is-active{{/isNewActive}}" id="tab-productsByCategoryTabs-newest-{{id}}" data-sort="newest">\n                                    {{#isNewActive}}\n                                        {{&productsHtml}}\n                                    {{/isNewActive}}\n                                    {{^isNewActive}}\n                                        {{&productsLoadingHtml}}\n                                    {{/isNewActive}}\n                                </section>\n                            {{/showNew}}\n\n                            {{#showReviews}}\n                                <section role="tabpanel" aria-hidden="{{#isReviewsActive}}false{{/isReviewsActive}}{{^isReviewsActive}}true{{/isReviewsActive}}" class="tab-content {{#isReviewsActive}}is-active{{/isReviewsActive}}" id="tab-productsByCategoryTabs-avgcustomerreview-{{id}}" data-sort="avgcustomerreview">\n                                    {{#isReviewsActive}}\n                                        {{&productsHtml}}\n                                    {{/isReviewsActive}}\n                                    {{^isReviewsActive}}\n                                        {{&productsLoadingHtml}}\n                                    {{/isReviewsActive}}\n                                </section>\n                            {{/showReviews}}\n\n                        </div>\n                        <div class="emthemesModez-productsByCategoryTabs-loader loader"></div>\n                        <div class="emthemesModez-productsByCategoryTabs-actionGroup">\n                            <a href="#" class="button button--small loadMore">{{txtLoadMore}}</a>\n                            <a href="#" class="button button--small collapse">{{txtCollapse}}</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ':h,f=t.productsLoadingTemplate,g=void 0===f?'\n            <div class="emthemesModez-productLoading">\n                <div class="emthemesModez-productLoading-item"><img class="lazyload" data-sizes="auto" src="{{loadingImage}}" data-src="{{productLoadingImage}}" alt="loading" title="loading" /></div>\n                <div class="emthemesModez-productLoading-item"><img class="lazyload" data-sizes="auto" src="{{loadingImage}}" data-src="{{productLoadingImage}}" alt="loading" title="loading" /></div>\n                <div class="emthemesModez-productLoading-item"><img class="lazyload" data-sizes="auto" src="{{loadingImage}}" data-src="{{productLoadingImage}}" alt="loading" title="loading" /></div>\n                <div class="emthemesModez-productLoading-item"><img class="lazyload" data-sizes="auto" src="{{loadingImage}}" data-src="{{productLoadingImage}}" alt="loading" title="loading" /></div>\n            </div>\n        ':f,v=t.productsTemplate,y=void 0===v?'\n            <div class="emthemesModez-productsByCategoryTabs-products" data-end-cursor="{{endCursor}}" {{#hasNextPage}}data-has-next-page="true"{{/hasNextPage}}>\n                <ul class="productGrid {{#maxColumns}}productGrid--maxCol{{maxColumns}}{{/maxColumns}}">\n                    {{#products}}\n                        <li class="product">\n                            {{&productCardHtml}}\n                        </li>\n                    {{/products}}\n                </ul>\n            </div>\n        ':v,m=t.productCardTemplate;this.onLoadMore=this.onLoadMore.bind(this),this.onCollapse=this.onCollapse.bind(this),this.id=e,this.index=i,this.sort=o,this.limit=r,this.$parent=c,this.context=d,this.sectionTemplate=p,this.productsLoadingTemplate=g,this.productsTemplate=y,this.productCardTemplate=m||l.oL,this.$scope=u('<div class="emthemesModez-productsByCategoryTabs-loading"></div>'),this.$loadMore=u(),this.$collapse=u(),this.$loader=u(),this.gql=new b(d),this.$parent.append(this.$scope),this.request()}var e=t.prototype;return e.request=function(){var t=g(h().m(function t(){var e,n,i,s,o,a;return h().w(function(t){for(;;)switch(t.n){case 0:a=this.sort,t.n="bestselling"===a?1:"featured"===a?2:"newest"===a?3:"avgcustomerreview"===a?4:5;break;case 1:return n="BEST_SELLING",t.a(3,6);case 2:return n="FEATURED",t.a(3,6);case 3:return n="NEWEST",t.a(3,6);case 4:return n="BEST_REVIEWED",t.a(3,6);case 5:return n="DEFAULT",t.a(3,6);case 6:return t.n=7,this.gql.load(this.id,"",this.limit,n,!0);case 7:if(i=t.v,this.categoryPath=null==i?void 0:i.path,!i||null!=(e=i.products)&&e.length){t.n=8;break}return t.a(2,this.requestCategoryPageOnViewport());case 8:if(i){t.n=9;break}return this.$scope.remove(),t.a(2);case 9:s=c().render(this.sectionTemplate,{name:i.name,url:i.path,id:this.id,showBestselling:this.context.pbcst_show_bestselling,isBestsellingActive:"bestselling"===this.sort,txtBestsellingTab:this.context.txtBestsellingTab,showFeatured:this.context.pbcst_show_featured,isFeaturedActive:"featured"===this.sort,txtFeaturedTab:this.context.txtFeaturedTab,showNew:this.context.pbcst_show_new,isNewActive:"newest"===this.sort,txtNewTab:this.context.txtNewTab,showReviews:this.context.pbcst_show_reviews,isReviewsActive:"avgcustomerreview"===this.sort,txtReviewsTab:this.context.txtReviewsTab,showBannerOrSubcategories:this.context.pbcst_show_banner||this.context.pbcst_subcategories>0&&i.hasChildren,showBanner:this.context.pbcst_show_banner,txtSubHeading:this.context.txtSubcategoryHeading,subcategories:i.children.slice(0,this.context.pbcst_subcategories).map(function(t){return{name:t.name,url:t.path}}),productsHtml:this.generateProductsHtml(i),productsLoadingHtml:c().render(this.productsLoadingTemplate,{loadingImage:this.context.loadingImage,productLoadingImage:this.context.productLoadingImage},null),txtLoadMore:this.context.txtLoadMore,txtCollapse:this.context.txtCollapse},null),o=u(s),this.$scope.replaceWith(o),this.$scope=o,this.$loader=this.$scope.find(".loader"),this.initTabs(),this.initSlick(),this.initBanner(),this.initButtons();case 10:return t.a(2)}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.requestCategoryPageOnViewport=function(){var t=this,e=u("[data-special-products-tabs] .loading"),n=o()(function(){if(!(e.length>0&&e.is(":visible"))){var i=t.$scope.offset().top,s=i+t.$scope.outerHeight(),o=u(window).scrollTop();i-50<o+u(window).innerHeight()&&s+50>o&&(u(window).off("load resize scroll",n),t.requestCategoryPage())}},100);u(window).on("load resize scroll",n),0===this.index&&n()},e.requestCategoryPage=function(){var t=this,e=function(){var e=t.limit?"&limit="+t.limit:"",n=t.sort?"&sort="+t.sort:"",i=t.categoryPath?t.categoryPath+"?"+e+n:"/categories.php?category="+t.id+e+n;y++,a.Ay.api.getPage(i,{template:"papa-supermarket/products-by-category-sorting-tabs/section"},function(e,n){if(y--,e||!n||n.error)t.$scope.remove();else{var i=u(n);i.length>1?t.$scope.remove():(t.$scope.replaceWith(i),t.$scope=i,t.$loader=t.$scope.find(".loader"),t.initTabs(),t.initSlick(),t.initBanner(),t.initButtons())}})};if(y<=0)e();else var n=setInterval(function(){y<=0&&(clearInterval(n),e())},200)},e.generateProductsHtml=function(t){var e=this;return c().render(this.productsTemplate,{maxColumns:5===e.context.pbcst_products?5:6===e.context.pbcst_products?6:10===e.context.pbcst_products?5:12===e.context.pbcst_products&&0===e.context.pbcst_subcategories?6:15===e.context.pbcst_products?5:18===e.context.pbcst_products?6:void 0,products:t.products.map(function(t){return Object.assign({},t,{productCardHtml:c().render(e.productCardTemplate,t)})}),endCursor:t.productsInfo.endCursor,hasNextPage:t.productsInfo.hasNextPage})},e.loadProducts=function(){var t=g(h().m(function t(e){var n,i,s,o,a,r,c,d,l,p,f,g,v,y,b,m,w,P;return h().w(function(t){for(;;)switch(t.n){case 0:i=e.sort,s=void 0===i?"":i,o=e.afterCursor,a=void 0===o?"":o,r=e.$content,this.$loader.addClass("loading"),P=s,t.n="bestselling"===P?1:"featured"===P?2:"newest"===P?3:"avgcustomerreview"===P?4:5;break;case 1:return c="BEST_SELLING",t.a(3,6);case 2:return c="FEATURED",t.a(3,6);case 3:return c="NEWEST",t.a(3,6);case 4:return c="BEST_REVIEWED",t.a(3,6);case 5:return c="DEFAULT",t.a(3,6);case 6:return t.n=7,this.gql.load(this.id,a,this.limit,c,!0);case 7:if(!(d=t.v)||null!=(n=d.products)&&n.length){t.n=9;break}if(!(p=null==(l=d.children[0])?void 0:l.entityId)){t.n=9;break}return t.n=8,this.gql.load(p,a,this.limit,c,!0);case 8:(f=t.v)&&(d.products=f.products,d.productsInfo=f.productsInfo);case 9:if(g=d.productsInfo,v=g.endCursor,y=g.hasNextPage,this.$loader.removeClass("loading"),d){t.n=10;break}return t.a(2);case 10:b=this.generateProductsHtml(d),m=u(b),(w=r.find("[data-end-cursor]")).length>0?(w.data({endCursor:v,hasNextPage:y}),w.find(".productGrid").append(m.find(".productGrid").children())):r.html(m).data("loaded",!0),this.initSlick(),y?this.$loadMore.show():this.$loadMore.hide(),v?this.$collapse.show():this.$collapse.hide();case 11:return t.a(2)}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.loadProductsFromCategoryPage=function(t){var e=this,n=t.sort,i=void 0===n?"":n,s=t.page,o=void 0===s?"":s,r=t.$content,c=this.limit?"&limit="+this.limit:"",d=i?"&sort="+i:"",l=o?"&page="+o:"",h=this.categoryPath?this.categoryPath+"?"+c+d+l:"/categories.php?category="+this.id+c+d+l;this.$loader.addClass("loading"),a.Ay.api.getPage(h,{template:"papa-supermarket/products-by-category-sorting-tabs/products"},function(t,n){if(e.$loader.removeClass("loading"),!t&&n){var i=u(n);if(!(i.length>1)){var s=r.find("[data-current-page]");s.length>0?(s.data({currentPage:i.data("currentPage"),hasNextPage:Boolean(i.data("hasNextPage"))}),s.find(".productGrid").append(i.find(".productGrid").children())):r.html(n).data("loaded",!0),e.initSlick(),i.data("hasNextPage")?e.$loadMore.show():e.$loadMore.hide(),i.data("currentPage")>1?e.$collapse.show():e.$collapse.hide()}}})},e.initTabs=function(){var t=this;(0,d.A)(this.$scope);var e=this.$scope.find(".tab-content.is-active").data("loaded",!0);u("[data-tab]",this.$scope).on("toggled",function(n,i){var s=u(u(i).find("a").attr("href"));if(s.data("loaded")){var o=s.find("[data-end-cursor], [data-current-page]");return o.data("hasNextPage")?t.$loadMore.show():t.$loadMore.hide(),void(o.data("endCursor")||Number(o.data("currentPage"))>1?t.$collapse.show():t.$collapse.hide())}t.$loadMore.hide(),t.$collapse.hide(),e.find("[data-end-cursor]").length>0?t.loadProducts({sort:s.data("sort"),$content:s}):t.loadProductsFromCategoryPage({sort:s.data("sort"),$content:s})})},e.initSlick=function(){u("[data-slick]",this.$scope).on("init",function(t){return setTimeout(function(){u("[data-slick-nested]",t.target).each(function(t,e){u(e).slick(u(e).data("slickNested"))})},200)}).on("breakpoint",function(t){return setTimeout(function(){u("[data-slick-nested]",t.target).slick("setPosition")},200)}).slick()},e.initBanner=function(){var t=this.$scope.find("[data-banner] img"),e="/product_images/uploaded_images/products-by-category-"+(this.index+1)+".jpg?c=2&t="+this.context.configurationId;t.hasClass("lazyload")?t.attr("data-src",e):t.attr("src",e)},e.initButtons=function(){this.$loadMore=this.$scope.find(".loadMore").hide(),this.$collapse=this.$scope.find(".collapse").hide(),this.$scope.find(".tab-content.is-active").find("[data-end-cursor], [data-current-page]").data("hasNextPage")&&this.$loadMore.show(),this.$loadMore.on("click",this.onLoadMore),this.$collapse.on("click",this.onCollapse)},e.onLoadMore=function(t){t.preventDefault();var e=this.$scope.find(".tab-content.is-active"),n=e.find("[data-end-cursor], [data-current-page]"),i=e.find(".product.hide");if(i.length>0)return i.show().removeClass("hide"),this.$collapse.show(),void(n.data("hasNextPage")||this.$loadMore.hide());if(n.data("hasNextPage")){var s=e.data("sort"),o=n.data("endCursor"),a=Number(n.data("currentPage"));o?this.loadProducts({sort:s,afterCursor:o,$content:e}):a&&this.loadProductsFromCategoryPage({sort:s,page:a+1,$content:e})}else this.$loadMore.hide()},e.onCollapse=function(t){if(t.preventDefault(),this.limit){var e=this.$scope.find(".tab-content.is-active");e.find(".product").slice(this.limit).hide().addClass("hide").length>0&&this.$loadMore.show(),u("html, body").animate({scrollTop:e.offset().top},500)}this.$collapse.hide()},t}(),w=function(){function t(t,e){this.$scope=t,this.lazy=this.$scope.is("[data-lazy]"),this.context=e,this.loaded=!1,this.onCheckViewport=o()(this.onCheckViewport.bind(this),100),this.bindEvents(),this.lazy||this.load()}var e=t.prototype;return e.load=function(){var t=this;this.loaded=!0;var e=this.$scope.data("sort"),n=this.$scope.data("limit");String(this.$scope.data("pbcstGroup")).split(",").map(function(i,s){return new m({id:Number(i.trim()),index:s,sort:e,limit:n,$parent:t.$scope,context:t.context})})},e.bindEvents=function(){var t=this;u("body").one("beforeload.instantload",function(){return t.unbindEvents()}),this.lazy&&u(window).on("load resize scroll",this.onCheckViewport)},e.unbindEvents=function(){u(window).off("load resize scroll",this.onCheckViewport)},e.onCheckViewport=function(){if(this.loaded)u(window).off("load resize scroll",this.onCheckViewport);else if(this.$scope.is(":visible")){var t=this.$scope.offset().top,e=t+this.$scope.outerHeight(),n=u(window).scrollTop();t-300<n+u(window).innerHeight()&&e+300>n&&this.load()}},t}(),P=n(33270);function C(){var t,e,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",s=n.toStringTag||"@@toStringTag";function o(n,i,s,o){var c=i&&i.prototype instanceof r?i:r,d=Object.create(c.prototype);return $(d,"_invoke",function(n,i,s){var o,r,c,d=0,l=s||[],u=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return o=e,r=0,c=t,h.n=n,a}};function p(n,i){for(r=n,c=i,e=0;!u&&d&&!s&&e<l.length;e++){var s,o=l[e],p=h.p,f=o[2];n>3?(s=f===i)&&(c=o[(r=o[4])?5:(r=3,3)],o[4]=o[5]=t):o[0]<=p&&((s=n<2&&p<o[1])?(r=0,h.v=i,h.n=o[1]):p<f&&(s=n<3||o[0]>i||i>f)&&(o[4]=n,o[5]=i,h.n=f,r=0))}if(s||n>1)return a;throw u=!0,i}return function(s,l,f){if(d>1)throw TypeError("Generator is already running");for(u&&1===l&&p(l,f),r=l,c=f;(e=r<2?t:c)||!u;){o||(r?r<3?(r>1&&(h.n=-1),p(r,c)):h.n=c:h.v=c);try{if(d=2,o){if(r||(s="next"),e=o[s]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,r<2&&(r=0)}else 1===r&&(e=o.return)&&e.call(o),r<2&&(c=TypeError("The iterator does not provide a '"+s+"' method"),r=1);o=t}else if((e=(u=h.n<0)?c:n.call(i,h))!==a)break}catch(e){o=t,r=1,c=e}finally{d=1}}return{value:e,done:u}}}(n,s,o),!0),d}var a={};function r(){}function c(){}function d(){}e=Object.getPrototypeOf;var l=[][i]?e(e([][i]())):($(e={},i,function(){return this}),e),u=d.prototype=r.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,$(t,s,"GeneratorFunction")),t.prototype=Object.create(u),t}return c.prototype=d,$(u,"constructor",d),$(d,"constructor",c),c.displayName="GeneratorFunction",$(d,s,"GeneratorFunction"),$(u),$(u,s,"Generator"),$(u,i,function(){return this}),$(u,"toString",function(){return"[object Generator]"}),(C=function(){return{w:o,m:h}})()}function $(t,e,n,i){var s=Object.defineProperty;try{s({},"",{})}catch(t){s=0}$=function(t,e,n,i){function o(e,n){$(t,e,function(t){return this._invoke(e,n,t)})}e?s?s(t,e,{value:n,enumerable:!i,configurable:!i,writable:!i}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},$(t,e,n,i)}function k(t,e,n,i,s,o,a){try{var r=t[o](a),c=r.value}catch(t){return void n(t)}r.done?e(c):Promise.resolve(c).then(i,s)}function T(t){return function(){var e=this,n=arguments;return new Promise(function(i,s){var o=t.apply(e,n);function a(t){k(o,i,s,a,r,"next",t)}function r(t){k(o,i,s,a,r,"throw",t)}a(void 0)})}}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}var S=function(t){function e(){return t.apply(this,arguments)||this}var n,i;return i=t,(n=e).prototype=Object.create(i.prototype),n.prototype.constructor=n,x(n,i),e.prototype.load=function(){var t=T(C().m(function t(e,n,i,s){var o,a=this;return C().w(function(t){for(;;)switch(t.n){case 0:if(void 0===e&&(e="new"),void 0===n&&(n=""),void 0===i&&(i=10),void 0===s&&(s=!0),o=this.currencyCode+"_"+e+"_"+n+"_"+i+"_"+s,this.cachedProducts[o]){t.n=2;break}return t.n=1,new Promise(function(t){P.ajax({url:"/graphql",method:"POST",data:JSON.stringify({query:"\n                            query categoryProducts(\n                                $after: String,\n                                $first: Int,\n                                $hideOutOfStock: Boolean,\n                                $currencyCode: currencyCode!\n                            ) {\n                                site {\n                                    "+("new"===e?"\n                                    newestProducts(after: $after, first: $first, hideOutOfStock: $hideOutOfStock) {\n                                        edges {\n                                            node {\n                                                ...ProductFields\n                                            }\n                                        }\n                                        pageInfo {\n                                            endCursor\n                                            hasNextPage\n                                        }\n                                    }\n                                    ":"")+"\n                                    "+("top"===e?"\n                                    bestSellingProducts(after: $after, first: $first, hideOutOfStock: $hideOutOfStock) {\n                                        edges {\n                                            node {\n                                                ...ProductFields\n                                            }\n                                        }\n                                        pageInfo {\n                                            endCursor\n                                            hasNextPage\n                                        }\n                                    }\n                                    ":"")+"\n                                    "+("featured"===e?"\n                                    featuredProducts(after: $after, first: $first, hideOutOfStock: $hideOutOfStock) {\n                                        edges {\n                                            node {\n                                                ...ProductFields\n                                            }\n                                        }\n                                        pageInfo {\n                                            endCursor\n                                            hasNextPage\n                                        }\n                                    }\n                                    ":"")+"\n                                    settings {\n                                        tax {\n                                            plp\n                                        }\n                                        inventory {\n                                            defaultOutOfStockMessage\n                                        }\n                                        storefront {\n                                            catalog {\n                                                productComparisonsEnabled\n                                            }\n                                        }\n                                    }\n                                    currency(currencyCode: $currencyCode) {\n                                        display {\n                                            symbol\n                                            symbolPlacement\n                                            decimalToken\n                                            thousandsToken\n                                            decimalPlaces\n                                        }\n                                    }\n                                }\n                            }\n                            fragment MoneyFields on Money {\n                                value\n                                currencyCode\n                            }\n                            fragment ImageFields on Image {\n                                url80wide: url(width: 80)\n                                url160wide: url(width: 160)\n                                url320wide: url(width: 320)\n                                url640wide: url(width: 640)\n                            }\n                            fragment ProductFields on Product {\n                                entityId\n                                name\n                                sku\n                                path\n                                addToCartUrl\n                                minPurchaseQuantity\n                                maxPurchaseQuantity\n                                pricesWithTax: prices(includeTax: true, currencyCode: $currencyCode) {\n                                    price {\n                                        ...MoneyFields\n                                    }\n                                    basePrice {\n                                        ...MoneyFields\n                                    }\n                                    salePrice {\n                                        ...MoneyFields\n                                    }\n                                    retailPrice {\n                                        ...MoneyFields\n                                    }\n                                    priceRange {\n                                        min {\n                                            ...MoneyFields\n                                        }\n                                        max {\n                                            ...MoneyFields\n                                        }\n                                    }\n                                }\n                                pricesWithoutTax: prices(includeTax: false, currencyCode: $currencyCode) {\n                                    price {\n                                        ...MoneyFields\n                                    }\n                                    basePrice {\n                                        ...MoneyFields\n                                    }\n                                    salePrice {\n                                        ...MoneyFields\n                                    }\n                                    retailPrice {\n                                        ...MoneyFields\n                                    }\n                                    priceRange {\n                                        min {\n                                            ...MoneyFields\n                                        }\n                                        max {\n                                            ...MoneyFields\n                                        }\n                                    }\n                                }\n                                defaultImage {\n                                    ...ImageFields\n                                }\n                                images {\n                                    edges {\n                                    node {\n                                        ...ImageFields\n                                        isDefault\n                                    }\n                                    }\n                                }\n                                brand {\n                                    name\n                                    path\n                                }\n                                reviewSummary {\n                                    averageRating\n                                }\n                                productOptions(first: 1) {\n                                    edges {\n                                        node {\n                                            entityId\n                                        }\n                                    }\n                                }\n                                availabilityV2 {\n                                    status\n                                }\n                                inventory {\n                                    isInStock\n                                }\n                                customFields {\n                                    edges {\n                                        node {\n                                            name\n                                            value\n                                        }\n                                    }\n                                }\n                            }\n                        ",variables:{after:n,first:i,hideOutOfStock:s,currencyCode:a.currencyCode}}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.graphQLToken},xhrFields:{withCredentials:!0},success:function(n){var i={newestProducts:"new"===e&&n.data.site.newestProducts?a.mapGraphQLProducts(n.data.site.newestProducts,n.data.site.settings,n.data.site.currency):[],newestProductsInfo:"new"===e&&n.data.site.newestProducts?{endCursor:n.data.site.newestProducts.pageInfo.endCursor,hasNextPage:n.data.site.newestProducts.pageInfo.hasNextPage}:{endCursor:"",hasNextPage:!1},bestsellingProducts:"top"===e&&n.data.site.bestSellingProducts?a.mapGraphQLProducts(n.data.site.bestSellingProducts,n.data.site.settings,n.data.site.currency):[],bestsellingProductsInfo:"top"===e&&n.data.site.bestSellingProducts?{endCursor:n.data.site.bestSellingProducts.pageInfo.endCursor,hasNextPage:n.data.site.bestSellingProducts.pageInfo.hasNextPage}:{endCursor:"",hasNextPage:!1},featuredProducts:"featured"===e&&n.data.site.featuredProducts?a.mapGraphQLProducts(n.data.site.featuredProducts,n.data.site.settings,n.data.site.currency):[],featuredProductsInfo:"featured"===e&&n.data.site.featuredProducts?{endCursor:n.data.site.featuredProducts.pageInfo.endCursor,hasNextPage:n.data.site.featuredProducts.pageInfo.hasNextPage}:{endCursor:"",hasNextPage:!1}};t(i)},error:function(){t("")}})});case 1:this.cachedProducts[o]=t.v;case 2:return t.a(2,this.cachedProducts[o])}},t,this)}));return function(e,n,i,s){return t.apply(this,arguments)}}(),e}(l.Tl),M=function(){function t(t,e){this.$scope=t,this.context=e,this.$viewportCheck=t.find("[data-viewport-check]"),this.$loading=t.find(".loading").hide(),this.$loadMore=t.find(".loadMore").hide(),this.$collapse=t.find(".collapse").hide(),this.defaultProductsCount=this.context.themeSettings.specialProductsTab_lazy_count+this.context.themeSettings.specialProductsTab_init_count,this.template='\n            <div class="emthemesModez-specialProductsTabs-products">\n                {{#featuredProducts.length}}\n                    <ul class="productGrid productGrid--maxCol4" data-product-type="featured" data-list-name="Featured Products">\n                        {{#featuredProducts}}\n                            <li class="product" data-product-id="{{id}}">\n                                {{&productCardHtml}}\n                            </li>\n                        {{/featuredProducts}}\n                    </ul>\n                {{/featuredProducts.length}}\n\n                {{#bestsellingProducts.length}}\n                    <ul class="productGrid productGrid--maxCol4" data-product-type="bestselling" data-list-name="Most Popular Products">\n                        {{#bestsellingProducts}}\n                            <li class="product" data-product-id="{{id}}">\n                                {{&productCardHtml}}\n                            </li>\n                        {{/bestsellingProducts}}\n                    </ul>\n                {{/bestsellingProducts.length}}\n\n                {{#newestProducts.length}}\n                    <ul class="productGrid productGrid--maxCol4" data-product-type="newest" data-list-name="Most Popular Products">\n                        {{#newestProducts}}\n                            <li class="product" data-product-id="{{id}}">\n                                {{&productCardHtml}}\n                            </li>\n                        {{/newestProducts}}\n                    </ul>\n                {{/newestProducts.length}}\n            </div>\n        ',this.onCheckViewport=o()(this.onCheckViewport.bind(this),100),this.onLoadMore=this.onLoadMore.bind(this),this.onCollapse=this.onCollapse.bind(this),this.onTabToggled=this.onTabToggled.bind(this),this.context.themeSettings.specialProductsTab_more&&this.$loadMore.show(),this.bindEvents(),this.gql=new S(e)}var e=t.prototype;return e.bindEvents=function(){var t=this;P("body").one("beforeload.instantload",function(){return t.unbindEvents()}),this.$viewportCheck.length>0&&P(window).on("load resize scroll",this.onCheckViewport),this.context.themeSettings.specialProductsTab_more&&this.$loadMore.on("click",this.onLoadMore),this.$collapse.on("click",this.onCollapse),P("[data-tab]",this.$scope).on("toggled",this.onTabToggled)},e.unbindEvents=function(){P(window).off("load resize scroll",this.onCheckViewport),this.$loadMore.off("click",this.onLoadMore),this.$collapse.off("click",this.onCollapse),P("[data-tab]",this.$scope).off("toggled",this.onTabToggled)},e.onCheckViewport=function(){var t=this;this.$viewportCheck.each(function(e,n){var i=P(n);if(i.is(":visible")){var s=i.offset().top,o=s+i.outerHeight(),a=P(window).scrollTop();s-250<a+P(window).innerHeight()&&o+250>a&&(t.loadViewportProducts(i.data("viewportCheck"),i.closest(".tab-content").find(".productGrid, .productList, .productCarousel")),t.$viewportCheck=t.$viewportCheck.not(i),i.remove())}})},e.onLoadMore=function(t){var e=this;t.preventDefault();var n=this.$scope.find(".tab-content.is-active");if(n.data("loadedMore")){var i=n.find(".product, .productCarousel-slide").filter(":hidden");i.slice(0,this.defaultProductsCount).show(),i.is(":hidden")||this.$loadMore.hide(),this.$collapse.show()}else{n.data("loadedMore",!0);var s=n.data("productType");this.$loading.show(),this.$loadMore.attr("disabled",!0),this.gql.load(s,"",50,!0).then(function(t){if(e.$loading.hide(),e.$loadMore.removeAttr("disabled"),t){var i=c().render(e.template,{featuredProducts:t.featuredProducts.map(function(t){return Object.assign({},t,{productCardHtml:c().render(l.oL,t)})}),bestsellingProducts:t.bestsellingProducts.map(function(t){return Object.assign({},t,{productCardHtml:c().render(l.oL,t)})}),newestProducts:t.newestProducts.map(function(t){return Object.assign({},t,{productCardHtml:c().render(l.oL,t)})})}),s=n.find(".product, .productCarousel-slide").map(function(t,e){return P(e).data("productId")}).get(),o=P(i).find(".product, .productCarousel-slide").filter(function(t,e){return-1===s.indexOf(P(e).data("productId"))});o.slice(e.defaultProductsCount).hide(),n.find(".productGrid, .productList, .productCarousel").append(o),o.is(":hidden")||e.$loadMore.hide(),o.length>0&&e.$collapse.show()}})}},e.onCollapse=function(t){t.preventDefault();var e=this.$scope.find(".tab-content.is-active"),n=e.find(".product, .productCarousel-slide");n.slice(this.defaultProductsCount).hide(),this.$collapse.hide(),n.length>this.defaultProductsCount&&this.$loadMore.show(),P("html, body").animate({scrollTop:e.offset().top})},e.onTabToggled=function(t,e){var n=P(P("a",e).attr("href"));P("[data-slick]",n).slick("setPosition"),this.$viewportCheck.length>0&&this.onCheckViewport();var i=n.find(".product, .productCarousel-slide"),s=i.filter(":visible").length;this.context.themeSettings.specialProductsTab_more&&(!n.data("loadedMore")||i.is(":hidden")?this.$loadMore.show():this.$loadMore.hide(),s>this.defaultProductsCount?this.$collapse.show():this.$collapse.hide())},e.loadViewportProducts=function(){var t=T(C().m(function t(e,n){var i,s,o,a;return C().w(function(t){for(;;)switch(t.n){case 0:return this.$loading.show(),i=this.defaultProductsCount,t.n=1,this.gql.load(e,"",i,!0);case 1:if(s=t.v,this.$loading.hide(),s){t.n=2;break}return t.a(2);case 2:o=c().render(this.template,{featuredProducts:s.featuredProducts.map(function(t){return Object.assign({},t,{productCardHtml:c().render(l.oL,t)})}),bestsellingProducts:s.bestsellingProducts.map(function(t){return Object.assign({},t,{productCardHtml:c().render(l.oL,t)})}),newestProducts:s.newestProducts.map(function(t){return Object.assign({},t,{productCardHtml:c().render(l.oL,t)})})}),a=P(o).find(".product, .productCarousel-slide"),n.empty().append(a);case 3:return t.a(2)}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),t}();n(28797);var B=n(33270),A=1,I=function(){function t(t){this.$slick=B(t),this.$videos=this.$slick.find("[data-youtube]"),this.onSlickInit=this.onSlickInit.bind(this),this.onSlickBeforeChange=this.onSlickBeforeChange.bind(this),this.onSlickAfterChange=this.onSlickAfterChange.bind(this),this.onPlayerReady=this.onPlayerReady.bind(this),this.onPlayerStateChange=this.onPlayerStateChange.bind(this),this.bindEvents()}var e=t.prototype;return e.bindEvents=function(){this.$slick.hasClass("slick-initialized")&&this.onSlickInit(),this.$slick.on("init",this.onSlickInit),this.$slick.on("beforeChange",this.onSlickBeforeChange),this.$slick.on("afterChange",this.onSlickAfterChange)},e.onPlayerReady=function(t){var e=this;B(t.target.getIframe()).closest(".slick-slide").data("youtube-player",t.target),this.$slick.addClass("slick-video-playing"),setTimeout(function(){B(t.target.getIframe()).closest(".slick-slide").hasClass("slick-active")&&(e.$slick.is("[data-youtube-mute]")&&t.target.mute(),e.$slick.is("[data-youtube-autoplay]")&&(e.$slick.slick("slickPause"),t.target.playVideo()))},200)},e.onPlayerStateChange=function(t){t.data===YT.PlayerState.PLAYING&&(this.$slick.addClass("slick-video-playing"),this.$slick.slick("slickPause")),t.data===YT.PlayerState.PAUSED&&this.$slick.removeClass("slick-video-playing"),t.data===YT.PlayerState.ENDED&&(this.$slick.removeClass("slick-video-playing"),this.$slick.slick("slickPlay"),this.$slick.slick("slickNext"))},e.onSlickInit=function(){var t=this;this.$videos.each(function(e,n){var i=B(n),s="youtube_player_"+A++;i.attr("id",s),new YT.Player(s,{videoId:i.data("youtube"),wmode:"transparent",playerVars:{controls:0,disablekb:1,enablejsapi:1,fs:0,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,wmode:"transparent",playsinline:1},events:{onReady:t.onPlayerReady,onStateChange:t.onPlayerStateChange}})})},e.onSlickBeforeChange=function(){var t=this.$slick.find(".slick-slide.slick-active").data("youtube-player");t&&t.stopVideo()},e.onSlickAfterChange=function(){this.$slick.slick("slickPlay");var t=this.$slick.find(".slick-slide.slick-active").data("youtube-player");t&&(this.$slick.is("[data-youtube-mute]")&&t.mute(),this.$slick.is("[data-youtube-autoplay]")&&(this.$slick.slick("slickPause"),t.playVideo()))},t}();function O(t){t.each(function(t,e){var n=B(e);n.find("[data-youtube]").length>0&&(n.addClass("slick-slider--video"),new I(e))})}var F=n(33270);function _(t,e){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_(t,e)}var N=function(t){function e(){return t.apply(this,arguments)||this}var n,i;i=t,(n=e).prototype=Object.create(i.prototype),n.prototype.constructor=n,_(n,i);var s=e.prototype;return s.onReady=function(){this.initProductsByCategorySection(),this.initSpecialProductsTabsSection(),this.initMainCarouselSection(),this.initBrandsCarouselSection()},s.initProductsByCategorySection=function(){var t,e;this.context.hasProductsByCategorySortingTabs&&(t="[data-pbcst-group]",e=this.context,void 0===t&&(t="[data-pbcst-group]"),u(t).each(function(t,n){return new w(u(n),e)}))},s.initSpecialProductsTabsSection=function(){var t,e,n;this.context.hasSpecialProductsTabs&&(t={context:this.context},n=t.context,P(void 0===(e=t.selector)?"[data-special-products-tabs]":e).each(function(t,e){var i=P(e);i.data("specialProductsTabsInstance")||i.data("specialProductsTabsInstance",new M(i,n))}))},s.initMainCarouselSection=function(){if(this.context.hasMainCarousel){!function(t){if(t.find("[data-youtube]").length>0)if(void 0===window.onYouTubeIframeAPIReady){window.onYouTubeIframeAPIReady=O.bind(window,t);var e=document.createElement("script");e.nonce=window.__webpack_nonce__,e.src="https://www.youtube.com/player_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}else O(t)}(F("[data-slick]"));var t=F("body.papaSupermarket-layout--default .emthemesModez-verticalCategories--open"),e=function(){F(".heroCarousel-slide").css("min-height",F(window).width()>768?t.height()+20+"px":"")};t.length>0&&(e(),F(window).on("resize",function(){return e()}))}},s.initBrandsCarouselSection=function(){F("[data-emthemesmodez-brand-carousel]").slick({dots:!1,infinite:!1,mobileFirst:!0,slidesToShow:2,slidesToScroll:2,responsive:[{breakpoint:1260,settings:{slidesToScroll:2,slidesToShow:5}},{breakpoint:800,settings:{slidesToScroll:2,slidesToShow:5}},{breakpoint:550,settings:{slidesToScroll:2,slidesToShow:3}}]})},e}(i.A)}}]);
//# sourceMappingURL=theme-bundle.chunk.129.js.map
